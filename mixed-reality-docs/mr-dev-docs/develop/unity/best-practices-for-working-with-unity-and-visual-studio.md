---
title: Bonnes pratiques sur l’utilisation d’Unity et de Visual Studio
description: Trucs et astuces pour rationaliser le flux de travail de création d’une application de réalité mixte avec Unity et Visual Studio.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: déployer, Unity, Visual Studio, HoloLens, HoloLens 2, casque immersif
ms.openlocfilehash: 4d145568190ea43cf2ec43442a1c3d5ca4d92251
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/03/2020
ms.locfileid: "91679065"
---
# <a name="best-practices-for-working-with-unity-and-visual-studio"></a><span data-ttu-id="5feb2-104">Bonnes pratiques sur l’utilisation d’Unity et de Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5feb2-104">Best practices for working with Unity and Visual Studio</span></span>

<span data-ttu-id="5feb2-105">Un développeur qui crée une application de réalité mixte avec Unity doit basculer entre Unity et Visual Studio pour générer le package d’application déployé dans HoloLens et/ou un casque immersif.</span><span class="sxs-lookup"><span data-stu-id="5feb2-105">A developer creating a mixed reality application with Unity will need to switch between Unity and Visual Studio to build the application package that is deployed to HoloLens and/or an immersive headset.</span></span> <span data-ttu-id="5feb2-106">Par défaut, deux instances de Visual Studio sont nécessaires (l’une pour modifier les scripts Unity et l’autre pour le déploiement sur l’appareil et le débogage).</span><span class="sxs-lookup"><span data-stu-id="5feb2-106">By default, two instances of Visual Studio are required (one to modify Unity scripts and one to deploy to the device and debug).</span></span> <span data-ttu-id="5feb2-107">La procédure suivante autorise le développement à l’aide d’une seule instance de Visual Studio, réduit la fréquence de l’exportation des projets Unity et améliore l’expérience de débogage.</span><span class="sxs-lookup"><span data-stu-id="5feb2-107">The following procedure allows development using single Visual Studio instance, reduces the frequency of exporting Unity projects, and improves the debugging experience.</span></span>

## <a name="improving-iteration-time"></a><span data-ttu-id="5feb2-108">Amélioration de l’heure des itérations</span><span class="sxs-lookup"><span data-stu-id="5feb2-108">Improving iteration time</span></span>

<span data-ttu-id="5feb2-109">La prise en charge du serveur principal de script .NET dans Unity est dépréciée dans Unity 2018 et supprimée dans Unity 2019 +.</span><span class="sxs-lookup"><span data-stu-id="5feb2-109">Support for .NET scripting back-end in Unity is being deprecated in Unity 2018 and removed in Unity 2019+.</span></span> <span data-ttu-id="5feb2-110">Par conséquent, il est recommandé de basculer vers [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span><span class="sxs-lookup"><span data-stu-id="5feb2-110">Thus, it is advised to switch to [IL2CPP](https://docs.unity3d.com/Manual/IL2CPP.html).</span></span> <span data-ttu-id="5feb2-111">Toutefois, cela peut entraîner des temps de génération plus longs entre Unity et Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5feb2-111">However, this may incur longer build times from Unity to Visual Studio.</span></span> <span data-ttu-id="5feb2-112">Pour améliorer l’itération plus rapidement, il est recommandé de configurer son environnement pour optimiser les résultats de la compilation.</span><span class="sxs-lookup"><span data-stu-id="5feb2-112">To improve for faster iteration, one should set up their environment for best compilation results.</span></span>

1) <span data-ttu-id="5feb2-113">Tirez parti de la création incrémentielle en générant votre projet dans le même répertoire à chaque fois, en réutilisant les fichiers prédéfinis</span><span class="sxs-lookup"><span data-stu-id="5feb2-113">Leverage incremental building by building your project to the same directory every time, re-using the pre-built files there</span></span>
2) <span data-ttu-id="5feb2-114">Désactiver les analyses logicielles anti-programme malveillant pour votre projet & les dossiers de build</span><span class="sxs-lookup"><span data-stu-id="5feb2-114">Disable anti-malware software scans for your project & build folders</span></span>
   - <span data-ttu-id="5feb2-115">Ouvrir la **protection contre les menaces contre les Virus &** sous votre application Paramètres Windows 10</span><span class="sxs-lookup"><span data-stu-id="5feb2-115">Open **Virus & threat protection** under your Windows 10 settings app</span></span>
   - <span data-ttu-id="5feb2-116">Sélectionnez **gérer les paramètres** sous **virus & les paramètres de protection contre les menaces**</span><span class="sxs-lookup"><span data-stu-id="5feb2-116">Select **Manage Settings** under **Virus & threat protection settings**</span></span>
   - <span data-ttu-id="5feb2-117">Sélectionnez **Ajouter ou supprimer des exclusions** sous la section **exclusions** .</span><span class="sxs-lookup"><span data-stu-id="5feb2-117">Select **Add or remove exclusions** under the **Exclusions** section</span></span>
   - <span data-ttu-id="5feb2-118">Cliquez sur **Ajouter une exclusion** , puis sélectionnez le dossier contenant le code de votre projet Unity et les sorties de génération</span><span class="sxs-lookup"><span data-stu-id="5feb2-118">Click **Add an exclusion** and select the folder containing your Unity project code and build outputs</span></span>
3) <span data-ttu-id="5feb2-119">Utiliser un SSD pour la génération</span><span class="sxs-lookup"><span data-stu-id="5feb2-119">Utilize an SSD for building</span></span>

<span data-ttu-id="5feb2-120">Pour plus d’informations, consultez [optimisation des temps de génération pour IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) .</span><span class="sxs-lookup"><span data-stu-id="5feb2-120">Review [Optimizing Build Times for IL2CPP](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html) for more info.</span></span> <span data-ttu-id="5feb2-121">Examinez également [le débogage sur le serveur principal IL2CPP Scripting](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span><span class="sxs-lookup"><span data-stu-id="5feb2-121">Also, review [Debugging on IL2CPP Scripting Back-end](https://docs.unity3d.com/Manual/windowsstore-debugging-il2cpp.html).</span></span>

<span data-ttu-id="5feb2-122">En outre, envisagez d’installer l' [extension Visual Studio *UnityScriptAnalyzer*](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span><span class="sxs-lookup"><span data-stu-id="5feb2-122">Furthermore, consider installing the [*UnityScriptAnalyzer* Visual Studio extension](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer).</span></span> <span data-ttu-id="5feb2-123">Cet outil analyse vos scripts C# Unity pour le code qui peut être écrit de façon plus optimisée.</span><span class="sxs-lookup"><span data-stu-id="5feb2-123">This tool analyzes your Unity C# scripts for code that may be able to be written in a more optimized manner.</span></span>

## <a name="visual-studio-tools-for-unity"></a><span data-ttu-id="5feb2-124">Visual Studio Tools pour Unity</span><span class="sxs-lookup"><span data-stu-id="5feb2-124">Visual Studio Tools for Unity</span></span>

<span data-ttu-id="5feb2-125">Télécharger [outils Visual Studio pour Unity](https://docs.microsoft.com/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019)</span><span class="sxs-lookup"><span data-stu-id="5feb2-125">Download [Visual Studio Tools for Unity](https://docs.microsoft.com/visualstudio/cross-platform/getting-started-with-visual-studio-tools-for-unity?view=vs-2019)</span></span>

<span data-ttu-id="5feb2-126">**Avantages de Outils Visual Studio pour Unity**</span><span class="sxs-lookup"><span data-stu-id="5feb2-126">**Benefits of Visual Studio Tools for Unity**</span></span>
* <span data-ttu-id="5feb2-127">Déboguez Unity en mode de lecture de l’éditeur à partir de Visual Studio en plaçant des points d’arrêt, en évaluant des variables et des expressions complexes.</span><span class="sxs-lookup"><span data-stu-id="5feb2-127">Debug Unity in-editor play mode from Visual Studio by putting breakpoints, evaluating variables and complex expressions.</span></span>
* <span data-ttu-id="5feb2-128">Utilisez l’Explorateur de projets Unity pour rechercher votre script avec exactement la même hiérarchie que celle affichée par Unity.</span><span class="sxs-lookup"><span data-stu-id="5feb2-128">Use the Unity Project Explorer to find your script with the exact same hierarchy that Unity displays.</span></span>
* <span data-ttu-id="5feb2-129">Récupérez la console Unity directement à l’intérieur de Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5feb2-129">Get the Unity console directly inside Visual Studio.</span></span>
* <span data-ttu-id="5feb2-130">Utilisez les assistants pour créer rapidement des scripts ou y accéder.</span><span class="sxs-lookup"><span data-stu-id="5feb2-130">Use wizards to quickly create or navigate to scripts.</span></span>

## <a name="expose-c-class-variables-for-easy-tuning"></a><span data-ttu-id="5feb2-131">Exposer des variables de classe C# pour faciliter le paramétrage</span><span class="sxs-lookup"><span data-stu-id="5feb2-131">Expose C# class variables for easy tuning</span></span>

<span data-ttu-id="5feb2-132">Il existe deux façons d’exposer des variables de classe.</span><span class="sxs-lookup"><span data-stu-id="5feb2-132">There are two ways to expose class variables.</span></span> <span data-ttu-id="5feb2-133">La méthode recommandée consiste à ajouter l’attribut [SerializeField] à vos variables privées.</span><span class="sxs-lookup"><span data-stu-id="5feb2-133">The recommended way is to add the [SerializeField] attribute to your private variables.</span></span> <span data-ttu-id="5feb2-134">Cela leur permet d’y accéder à partir de l’éditeur, mais pas de les exposer par programmation.</span><span class="sxs-lookup"><span data-stu-id="5feb2-134">This allows them to be accessed from the editor but not programmatically exposed.</span></span>  <span data-ttu-id="5feb2-135">L’autre option consiste à rendre les variables de classe C# publiques pour les exposer dans l’interface utilisateur de l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="5feb2-135">The other option is to make C# class variables public to expose them in the editor UI.</span></span> 

<span data-ttu-id="5feb2-136">Les deux approches permettent de modifier facilement les variables tout en lisant dans l’éditeur.</span><span class="sxs-lookup"><span data-stu-id="5feb2-136">Both approaches make it possible to easily tweak variables while playing in-editor.</span></span> <span data-ttu-id="5feb2-137">Cela s’avère particulièrement utile pour le paramétrage des propriétés de mécanicien d’interaction.</span><span class="sxs-lookup"><span data-stu-id="5feb2-137">This is especially useful for tuning interaction mechanic properties.</span></span>

## <a name="regenerate-uwp-visual-studio-solutions-after-windows-sdk-or-unity-upgrade"></a><span data-ttu-id="5feb2-138">Régénérer les solutions Visual Studio UWP après une mise à niveau de SDK Windows ou Unity</span><span class="sxs-lookup"><span data-stu-id="5feb2-138">Regenerate UWP Visual Studio solutions after Windows SDK or Unity upgrade</span></span>

<span data-ttu-id="5feb2-139">Les solutions Visual Studio UWP archivées dans le contrôle de code source peuvent être obsolètes après la mise à niveau vers un nouveau SDK Windows ou un moteur Unity.</span><span class="sxs-lookup"><span data-stu-id="5feb2-139">UWP Visual Studio solutions checked in to source control can get out-of-date after upgrading to a new Windows SDK or Unity engine.</span></span> <span data-ttu-id="5feb2-140">Vous pouvez résoudre ce cas après la mise à niveau en créant une nouvelle solution UWP à partir d’Unity, puis en fusionnant toutes les différences dans la solution archivée.</span><span class="sxs-lookup"><span data-stu-id="5feb2-140">You can resolve this after the upgrade by building a new UWP solution from Unity, then merging any differences into the checked-in solution.</span></span>

## <a name="use-text-format-assets-for-easy-comparison-of-content-changes"></a><span data-ttu-id="5feb2-141">Utiliser des ressources au format texte pour faciliter la comparaison des modifications de contenu</span><span class="sxs-lookup"><span data-stu-id="5feb2-141">Use text-format assets for easy comparison of content changes</span></span>

<span data-ttu-id="5feb2-142">Le stockage des ressources au format texte facilite l’examen des différences de modification de contenu dans Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="5feb2-142">Storing assets in text format makes it easier to review content change diffs in Visual Studio.</span></span> <span data-ttu-id="5feb2-143">Vous pouvez l’activer dans « modifier les paramètres du projet > l’éditeur de > » en modifiant le mode de **sérialisation des ressources** pour **forcer le texte** .</span><span class="sxs-lookup"><span data-stu-id="5feb2-143">You can enable this in "Edit > Project Settings > Editor" by changing **Asset Serialization** mode to **Force Text** .</span></span> <span data-ttu-id="5feb2-144">Toutefois, la fusion de modifications de fichiers de ressources texte est sujette aux erreurs et n’est pas recommandée. envisagez donc d’activer des extractions binaires exclusives dans votre système de contrôle de code source.</span><span class="sxs-lookup"><span data-stu-id="5feb2-144">However, merging text asset file changes is error-prone and not recommended, so consider enabling exclusive binary checkouts in your source control system.</span></span>

## <a name="see-also"></a><span data-ttu-id="5feb2-145">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="5feb2-145">See also</span></span>
- [<span data-ttu-id="5feb2-146">Visual Studio Tools pour Unity</span><span class="sxs-lookup"><span data-stu-id="5feb2-146">Visual Studio Tools for Unity</span></span>](https://visualstudiogallery.msdn.microsoft.com/8d26236e-4a64-4d64-8486-7df95156aba9)
- [<span data-ttu-id="5feb2-147">Optimisation des temps de génération pour IL2CPP</span><span class="sxs-lookup"><span data-stu-id="5feb2-147">Optimizing Build Times for IL2CPP</span></span>](https://docs.unity3d.com/Manual/IL2CPP-OptimizingBuildTimes.html)
- [<span data-ttu-id="5feb2-148">*UnityScriptAnalyzer* Extension Visual Studio</span><span class="sxs-lookup"><span data-stu-id="5feb2-148">*UnityScriptAnalyzer* Visual Studio extension</span></span>](https://github.com/Microsoft/MixedRealityCompanionKit/tree/master/UnityScriptAnalyzer)
