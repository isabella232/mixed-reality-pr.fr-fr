---
title: Étude de cas-HoloTour
description: HoloTour pour Microsoft HoloLens fournit des présentations personnelles en 3D immersifs d’emplacements sous forme à travers le monde. Cette étude de cas vous guidera tout au long du processus de capture et de création du contenu utilisé pour HoloTour.
author: dannyaskew
ms.author: daaske
ms.date: 03/21/2018
ms.topic: article
keywords: HoloTour, HoloLens, Windows Mixed Reality
ms.openlocfilehash: 9908327a1b8e70eef73d3f98adb7c75615e8e098
ms.sourcegitcommit: 09599b4034be825e4536eeb9566968afd021d5f3
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/03/2020
ms.locfileid: "91679798"
---
# <a name="case-study---holotour"></a><span data-ttu-id="aeb44-105">Étude de cas-HoloTour</span><span class="sxs-lookup"><span data-stu-id="aeb44-105">Case study - HoloTour</span></span>

<span data-ttu-id="aeb44-106">HoloTour pour Microsoft HoloLens fournit des présentations personnelles en 3D immersifs d’emplacements sous forme à travers le monde.</span><span class="sxs-lookup"><span data-stu-id="aeb44-106">HoloTour for Microsoft HoloLens provides immersive 3D personal tours of iconic locations around the world.</span></span> <span data-ttu-id="aeb44-107">À mesure que les concepteurs, les artistes, les producteurs, les concepteurs audio et les développeurs qui travaillent sur ce projet, la création d’un rendu 3D convaincant d’un emplacement bien connu prend une fusion unique des encadrement créatives et technologiques.</span><span class="sxs-lookup"><span data-stu-id="aeb44-107">As the designers, artists, producers, audio designers, and developers working on this project found out, creating a convincingly real 3D rendering of a well-known location takes a unique blend of creative and technological wizardry.</span></span> <span data-ttu-id="aeb44-108">Cette étude de cas vous guidera tout au long du processus de capture et de création du contenu utilisé pour HoloTour.</span><span class="sxs-lookup"><span data-stu-id="aeb44-108">This case study will walk through the process of capturing and creating the content used for HoloTour.</span></span>

## <a name="the-tech"></a><span data-ttu-id="aeb44-109">Le Tech</span><span class="sxs-lookup"><span data-stu-id="aeb44-109">The tech</span></span>

<span data-ttu-id="aeb44-110">Avec HoloTour, nous souhaitons permettre aux utilisateurs de visiter certaines des destinations les plus étonnantes du monde, comme les [Ruins de Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) au Pérou ou la journée moderne [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) en Italie, directement à partir de leurs propres salles vivantes.</span><span class="sxs-lookup"><span data-stu-id="aeb44-110">With HoloTour, we wanted to make it possible for people to visit some of the world’s most amazing destinations—like the [ruins of Machu Picchu](https://en.wikipedia.org/wiki/Machu_Picchu) in Peru or the modern day [Piazza Navona](https://en.wikipedia.org/wiki/Piazza_Navona) in Italy—right from their own living rooms.</span></span> <span data-ttu-id="aeb44-111">Notre équipe a fait de l’esprit l’objectif de la HoloTour « vous sentir comme vous le faites. »</span><span class="sxs-lookup"><span data-stu-id="aeb44-111">Our team made it the goal of HoloTour to “make you feel like you’re really there.”</span></span> <span data-ttu-id="aeb44-112">L’expérience était plus qu’une simple image ou une vidéo.</span><span class="sxs-lookup"><span data-stu-id="aeb44-112">The experience needed to be more than just pictures or videos.</span></span> <span data-ttu-id="aeb44-113">En tirant parti de l’affichage unique, du suivi et de la technologie audio de HoloLens, nous avons pensé que nous avions pratiquement pu vous transporter vers un autre emplacement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-113">By leveraging the unique display, tracking, and audio technology of HoloLens we believed we could virtually transport you to another place.</span></span> <span data-ttu-id="aeb44-114">Nous aurions besoin de capturer les paysages, les sons et la géométrie à trois dimensions de chaque emplacement visité, puis de le recréer dans notre application.</span><span class="sxs-lookup"><span data-stu-id="aeb44-114">We would need to capture the sights, sounds, and three-dimensional geometry of every location we visited and then recreate that within our app.</span></span>

<span data-ttu-id="aeb44-115">Pour ce faire, nous avons besoin d’une caméra de 360 ° pour la capture audio directionnelle.</span><span class="sxs-lookup"><span data-stu-id="aeb44-115">In order to do this, we needed a 360° camera rig with directional audio capture.</span></span> <span data-ttu-id="aeb44-116">Elle devait être capturée à une résolution extrêmement élevée, afin que le pied de page apparaisse plus clair lorsqu’il est lu sur un HoloLens et que les caméras doivent être positionnées de manière étroite pour réduire les artefacts d’assemblage.</span><span class="sxs-lookup"><span data-stu-id="aeb44-116">It needed to capture at extremely high resolution, so that the footage would look crisp when played back on a HoloLens and the cameras would need to be positioned close together in order to minimize stitching artifacts.</span></span> <span data-ttu-id="aeb44-117">Nous voulions une couverture sphérique complète, pas seulement le long de l’horizon, mais au-dessus et au-dessous.</span><span class="sxs-lookup"><span data-stu-id="aeb44-117">We wanted full spherical coverage, not just along the horizon, but above and below you as well.</span></span> <span data-ttu-id="aeb44-118">La plate-forme devait également être portable pour que nous puissions l’emporter dans le monde entier.</span><span class="sxs-lookup"><span data-stu-id="aeb44-118">The rig also needed to be portable so that we could take it all over the world.</span></span> <span data-ttu-id="aeb44-119">Nous avons évalué les options prêtes à l’emploi et réalisé qu’elles n’étaient tout simplement pas suffisantes pour réaliser notre vision, en raison de la résolution, du coût ou de la taille.</span><span class="sxs-lookup"><span data-stu-id="aeb44-119">We evaluated available off-the-shelf options and realized they simply weren’t good enough to realize our vision – either because of resolution, cost, or size.</span></span> <span data-ttu-id="aeb44-120">Si nous n’avons pas trouvé de plate-forme de caméra qui répond à nos besoins, nous devrions en créer une nous.</span><span class="sxs-lookup"><span data-stu-id="aeb44-120">If we couldn’t find a camera rig that satisfied our needs, we would have to build one ourselves.</span></span>

### <a name="building-the-rig"></a><span data-ttu-id="aeb44-121">Génération de la plate-forme de test</span><span class="sxs-lookup"><span data-stu-id="aeb44-121">Building the rig</span></span>

<span data-ttu-id="aeb44-122">La première version, créée à partir de carton, Velcro, bande de conduit et 14 caméras GoPro, était un MacGyver qui aurait été fier.</span><span class="sxs-lookup"><span data-stu-id="aeb44-122">The first version—made from cardboard, Velcro, duct tape, and 14 GoPro cameras—was something MacGyver would have been proud of.</span></span> <span data-ttu-id="aeb44-123">Après avoir examiné tous les aspects des solutions de bas de gamme aux plates-formes personnalisées, les caméras GoPro étaient finalement la meilleure option pour nous car elles étaient petites, abordables et avaient un stockage en mémoire facile à utiliser.</span><span class="sxs-lookup"><span data-stu-id="aeb44-123">After reviewing everything from low-end solutions to custom manufactured rigs, GoPro cameras were ultimately the best option for us because they were small, affordable, and had easy-to-use memory storage.</span></span> <span data-ttu-id="aeb44-124">Le facteur de forme réduite était particulièrement important, car il nous permettait de placer des caméras relativement proches, plus la distance entre les caméras est petite, plus les artefacts de combinaison seront petits.</span><span class="sxs-lookup"><span data-stu-id="aeb44-124">The small form factor was especially important because it allowed us to place cameras fairly close together—the smaller the distance between cameras, the smaller the stitching artifacts will be.</span></span> <span data-ttu-id="aeb44-125">Notre agencement unique de l’appareil photo nous permettait de bénéficier d’une couverture complète de toutes les sphères, *plus* suffisamment de repiquages pour aligner intelligemment les caméras et lisser certains artefacts pendant le processus de combinaison.</span><span class="sxs-lookup"><span data-stu-id="aeb44-125">Our unique camera arrangement allowed us to get full sphere coverage *plus* enough overlap to intelligently align cameras and smooth out some artifacts during the stitching process.</span></span>

<span data-ttu-id="aeb44-126">Tirer parti des capacités [spatiales du son](../design/spatial-sound.md) sur HoloLens est essentiel à la création d’une expérience immersive convaincante.</span><span class="sxs-lookup"><span data-stu-id="aeb44-126">Taking advantage of the [spatial sound](../design/spatial-sound.md) capabilities on HoloLens is critical to creating a convincingly real immersive experience.</span></span> <span data-ttu-id="aeb44-127">Nous avons utilisé un tableau à quatre microphones situé sous les caméras sur le trépied, qui capture le son à partir de l’emplacement de notre caméra dans quatre directions, ce qui nous donne suffisamment d’informations pour créer des sons spatiaux dans nos scènes.</span><span class="sxs-lookup"><span data-stu-id="aeb44-127">We used a four-microphone array situated beneath the cameras on the tripod, which would capture sound from the location of our camera in four directions, giving us enough information to create spatial sounds in our scenes.</span></span>

![Notre plateforme de 360 ° caméra configurée pour la vidéo en dehors du Pantheon.](images/camera-pantheon-200px.png)

<span data-ttu-id="aeb44-129">Notre plateforme de 360 ° caméra configurée pour la vidéo en dehors du Pantheon.</span><span class="sxs-lookup"><span data-stu-id="aeb44-129">Our 360° camera rig set up for filming outside the Pantheon.</span></span> 


<span data-ttu-id="aeb44-130">Nous avons testé notre plate-forme organiser en la mettant à Rattlesnake en relief près de Seattle, en capturant le décor en haut du randonnée.</span><span class="sxs-lookup"><span data-stu-id="aeb44-130">We tested out our homemade rig by taking it up to Rattlesnake Ridge near Seattle, capturing the scenery at the top of the hike.</span></span> <span data-ttu-id="aeb44-131">Le résultat, bien qu’il soit beaucoup moins poli que les emplacements que vous voyez dans HoloTour aujourd’hui, nous a donné la certitude que notre conception de la plate-forme était suffisamment bonne pour vous faire penser que vous en êtes vraiment là.</span><span class="sxs-lookup"><span data-stu-id="aeb44-131">The result, though significantly less polished than the locations you see in HoloTour today, gave us confidence that our rig design was good enough to make you feel like you’re really there.</span></span>

<span data-ttu-id="aeb44-132">Nous avons mis à niveau notre plate-forme à partir de Velcro et de carton vers un logement d’appareil photo en 3D et acheté des packs de batterie externes pour les caméras GoPro afin de simplifier la gestion des batteries.</span><span class="sxs-lookup"><span data-stu-id="aeb44-132">We upgraded our rig from Velcro and cardboard to a 3D-printed camera housing and bought external battery packs for the GoPro cameras to simplify battery management.</span></span> <span data-ttu-id="aeb44-133">Nous avons ensuite effectué un test plus complet, qui est en déplacement vers San Francisco pour créer une visite miniature de la côte de la ville et du pont sous forme Golden Gate.</span><span class="sxs-lookup"><span data-stu-id="aeb44-133">We then did a more extensive test, traveling down to San Francisco to create a miniature tour of the city’s coast and the iconic Golden Gate bridge.</span></span> <span data-ttu-id="aeb44-134">Cette plate-forme d’appareil photo correspond à ce que nous avons utilisé pour la plupart de nos captures des emplacements que vous visitez dans HoloTour.</span><span class="sxs-lookup"><span data-stu-id="aeb44-134">This camera rig is what we used for most of our captures of the locations you visit in HoloTour.</span></span>

![La vidéo de 360 la plate-forme de Machu Picchu.](images/camera-machu-pichu-500px.png)

<span data-ttu-id="aeb44-136">La vidéo de 360 la plate-forme de Machu Picchu.</span><span class="sxs-lookup"><span data-stu-id="aeb44-136">The 360° camera rig filming in Machu Picchu.</span></span> 

## <a name="behind-the-scenes"></a><span data-ttu-id="aeb44-137">Dans les coulisses</span><span class="sxs-lookup"><span data-stu-id="aeb44-137">Behind the scenes</span></span>

<span data-ttu-id="aeb44-138">Avant de filmer, nous devions déterminer les emplacements que nous souhaitons inclure dans notre visite virtuelle.</span><span class="sxs-lookup"><span data-stu-id="aeb44-138">Before filming, we needed to figure out which locations we wanted to include on our virtual tour.</span></span> <span data-ttu-id="aeb44-139">Rome était le premier emplacement que nous avons prévu d’expédier et nous voulions le faire juste, donc nous avons décidé de faire un voyage à l’avance.</span><span class="sxs-lookup"><span data-stu-id="aeb44-139">Rome was the first location we intended to ship and we wanted to get it right, so we decided to do a scouting trip in advance.</span></span> <span data-ttu-id="aeb44-140">Nous avons envoyé une équipe de six personnes, y compris des artistes, des concepteurs et des producteurs, pour une visite en personne aux sites que nous envisageons.</span><span class="sxs-lookup"><span data-stu-id="aeb44-140">We sent a team of six people—including artists, designers, and producers—for an in-person visit to the sites we were considering.</span></span> <span data-ttu-id="aeb44-141">Le trajet a duré environ 9 jours – 2,5 pour voyages, le reste pour la filmation.</span><span class="sxs-lookup"><span data-stu-id="aeb44-141">The trip took about 9 days – 2.5 for travel, the rest for filming.</span></span> <span data-ttu-id="aeb44-142">(Pour Machu Picchu, nous avons choisi de ne pas faire un voyage Scout, de rechercher à l’avance et de réserver quelques jours de mémoire tampon pour la pellicule.)</span><span class="sxs-lookup"><span data-stu-id="aeb44-142">(For Machu Picchu we opted not to do a scout trip, researching in advance and booking a few days of buffer for filming.)</span></span>

<span data-ttu-id="aeb44-143">À Rome, l’équipe a pris des photos de chaque zone et noté des faits intéressants, ainsi que des considérations pratiques, telles que le déplacement à chaque place et la difficulté à filmer en raison de la foule ou des restrictions.</span><span class="sxs-lookup"><span data-stu-id="aeb44-143">While in Rome, the team took photos of each area and noted interesting facts as well as practical considerations, such as how hard it is to travel to each spot and how difficult it would be to film because of crowds or restrictions.</span></span> <span data-ttu-id="aeb44-144">Cela peut sembler une vacances, mais c’est beaucoup de travail.</span><span class="sxs-lookup"><span data-stu-id="aeb44-144">This may sound like a vacation, but it’s a lot of work.</span></span> <span data-ttu-id="aeb44-145">Les journées commencent tôt le matin et seraient ininterrompues jusqu’au soir.</span><span class="sxs-lookup"><span data-stu-id="aeb44-145">Days started early in the morning and would go non-stop until evening.</span></span> <span data-ttu-id="aeb44-146">Chaque nuit, le métrage a été chargé pour l’équipe à Seattle pour réviser.</span><span class="sxs-lookup"><span data-stu-id="aeb44-146">Each night, footage was uploaded for the team back in Seattle to review.</span></span> 

![Notre équipe de capture à Rome.](images/holotour-filming-crew-rome-500px.jpg) 

<span data-ttu-id="aeb44-148">Notre équipe de capture à Rome.</span><span class="sxs-lookup"><span data-stu-id="aeb44-148">Our capture crew in Rome.</span></span> 


<span data-ttu-id="aeb44-149">Une fois le voyage Scout terminé, un plan final a été créé pour la filmation réelle.</span><span class="sxs-lookup"><span data-stu-id="aeb44-149">After the scout trip was completed, a final plan was made for actual filming.</span></span> <span data-ttu-id="aeb44-150">Cela nécessitait une liste détaillée de l’endroit où nous allions filmer, le jour et l’heure.</span><span class="sxs-lookup"><span data-stu-id="aeb44-150">This required a detailed list of where we were going to film, on what day, and at what time.</span></span> <span data-ttu-id="aeb44-151">Tous les jours à l’étranger étant coûteux, ces voyages devaient être efficaces.</span><span class="sxs-lookup"><span data-stu-id="aeb44-151">Every day overseas is expensive, so these trips needed to be efficient.</span></span> <span data-ttu-id="aeb44-152">Nous avons enregistré des guides et des gestionnaires à Rome pour nous aider à utiliser tous les jours avant le soleil à après le coucher du soleil.</span><span class="sxs-lookup"><span data-stu-id="aeb44-152">We booked guides and handlers in Rome to help us and fully used every day from before sunrise to after sunset.</span></span> <span data-ttu-id="aeb44-153">Nous devons obtenir le meilleur métrage possible pour vous faire penser à ce que vous êtes vraiment là.</span><span class="sxs-lookup"><span data-stu-id="aeb44-153">We need to get the best footage possible in order to make you feel like you’re really there.</span></span>

### <a name="capturing-the-video"></a><span data-ttu-id="aeb44-154">Capture de la vidéo</span><span class="sxs-lookup"><span data-stu-id="aeb44-154">Capturing the video</span></span>

<span data-ttu-id="aeb44-155">Le fait d’effectuer quelques opérations simples au cours de la capture peut simplifier considérablement le traitement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-155">Doing a few simple things during capture can make post-processing much easier.</span></span> <span data-ttu-id="aeb44-156">Par exemple, chaque fois que vous assemblez des images à partir de plusieurs caméras, vous obtenez des artefacts visuels, car chaque caméra a une vue légèrement différente.</span><span class="sxs-lookup"><span data-stu-id="aeb44-156">For example, whenever you stitch together images from multiple cameras, you end up with visual artifacts because each camera has a slightly different view.</span></span> <span data-ttu-id="aeb44-157">Plus les objets sont proches de l’appareil photo, plus la différence entre les vues est grande, et plus les artefacts de combinaison sont volumineux.</span><span class="sxs-lookup"><span data-stu-id="aeb44-157">The closer objects are to the camera, the larger the difference between the views, and the larger the stitching artifacts will be.</span></span> <span data-ttu-id="aeb44-158">Voici un moyen simple de visualiser le problème : maintenez votre pouce devant votre visage et examinez-le avec un seul œil.</span><span class="sxs-lookup"><span data-stu-id="aeb44-158">Here's an easy way to visualize the problem: hold your thumb up in front of your face and look at it with only one eye.</span></span> <span data-ttu-id="aeb44-159">Basculez maintenant les yeux.</span><span class="sxs-lookup"><span data-stu-id="aeb44-159">Now switch eyes.</span></span> <span data-ttu-id="aeb44-160">Vous verrez que votre curseur semble se déplacer par rapport à l’arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="aeb44-160">You’ll see that your thumb appears to move relative to the background.</span></span> <span data-ttu-id="aeb44-161">Si vous vous éloignez encore de votre visage et que vous répétez l’expérience, votre curseur s’affiche pour vous déplacer moins.</span><span class="sxs-lookup"><span data-stu-id="aeb44-161">If you hold your thumb further away from your face and repeat the experiment, your thumb will appear to move less.</span></span> <span data-ttu-id="aeb44-162">Ce mouvement apparent est semblable au problème de combinaison que nous avons rencontré : vos yeux, comme nos appareils photo, ne voient pas exactement la même image, car ils sont séparés par une petite distance.</span><span class="sxs-lookup"><span data-stu-id="aeb44-162">That apparent movement is similar to the stitching problem we faced: Your eyes, like our cameras, don’t see the exact same image because they are separated by a little distance.</span></span>

<span data-ttu-id="aeb44-163">Étant donné qu’il est beaucoup plus facile d’éviter les pires artefacts tout en filmant plutôt que de les corriger dans le traitement, nous avons essayé de garder les gens et les choses loin de l’appareil photo dans l’espoir que nous pourrions éliminer le besoin d’agrafer des objets de plus en plus étroits.</span><span class="sxs-lookup"><span data-stu-id="aeb44-163">Because it’s much easier to prevent the worst artifacts while filming than it is to correct them in post-processing, we tried to keep people and things far away from the camera in the hopes we could eliminate the need to stitch close-up objects.</span></span> <span data-ttu-id="aeb44-164">La maintenance d’un grand effacement autour de notre appareil photo était probablement l’un des plus grands défis que nous avions au cours de la prise de vue et nous devions nous rendre créatif pour le faire fonctionner.</span><span class="sxs-lookup"><span data-stu-id="aeb44-164">Maintaining a large clearing around our camera was probably one of the biggest challenges we had during shooting and we had to get creative to make it work.</span></span> <span data-ttu-id="aeb44-165">L’utilisation de guides locaux était une aide importante pour la gestion des foules, mais nous avons également découvert que l’utilisation de signes (et parfois de petits cônes ou sacs de haricot) pour marquer notre espace de film était raisonnablement efficace, surtout puisque nous avons uniquement besoin d’obtenir une petite quantité de métrage à chaque emplacement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-165">Working with local guides was a huge help in managing crowds, but we also found that using signs—and sometimes small cones or bean bags—to mark our filming space was reasonably effective, especially since we only needed to get a short amount of footage at each location.</span></span> <span data-ttu-id="aeb44-166">Souvent, la meilleure façon d’obtenir une bonne capture consistait à arriver très tôt le matin, avant la plupart des gens.</span><span class="sxs-lookup"><span data-stu-id="aeb44-166">Often the best way to get a good capture was to just to arrive very early in the morning, before most people showed up.</span></span>

<span data-ttu-id="aeb44-167">Certaines autres techniques de capture utiles proviennent directement des pratiques de film traditionnelles.</span><span class="sxs-lookup"><span data-stu-id="aeb44-167">Some other useful capture techniques come straight from traditional film practices.</span></span> <span data-ttu-id="aeb44-168">Par exemple, nous avons utilisé une carte de correction des couleurs sur toutes nos caméras et des photos de référence capturées des textures et des objets dont nous pourrions avoir besoin ultérieurement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-168">For example, we used a color correction card on all of our cameras and captured reference photos of textures and objects we might need later.</span></span> 

![Une coupe approximative du Picchu Machu avec la carte de correction des couleurs.](images/rough-cut-machu-picchu-500px.png)

<span data-ttu-id="aeb44-170">Une coupe approximative du métrage de Pantheon avant la combinaison.</span><span class="sxs-lookup"><span data-stu-id="aeb44-170">A rough cut of Pantheon footage before stitching.</span></span>

### <a name="processing-the-video"></a><span data-ttu-id="aeb44-171">Traitement de la vidéo</span><span class="sxs-lookup"><span data-stu-id="aeb44-171">Processing the video</span></span>

<span data-ttu-id="aeb44-172">La capture du contenu de 360 ° n’est que la première étape : un traitement important est nécessaire pour convertir le métrage de la caméra brute que nous avons capturé dans les ressources finales que vous voyez dans HoloTour.</span><span class="sxs-lookup"><span data-stu-id="aeb44-172">Capturing 360° content is only the first step—a lot of processing is needed to convert the raw camera footage we captured into the final assets you see in HoloTour.</span></span> <span data-ttu-id="aeb44-173">Une fois que nous étions à nouveau à l’usage, nous avions besoin de prendre la vidéo de 14 flux de caméra différents et de les convertir en une vidéo continue unique avec des artefacts minimaux.</span><span class="sxs-lookup"><span data-stu-id="aeb44-173">Once we were back home we needed to take the video from 14 different camera feeds and turn it into a single continuous video with minimal artifacts.</span></span> <span data-ttu-id="aeb44-174">Notre équipe technique a utilisé un certain nombre d’outils pour combiner et peaufiner le métrage capturé et nous avons développé un pipeline pour optimiser le traitement le plus possible.</span><span class="sxs-lookup"><span data-stu-id="aeb44-174">Our art team used a number of tools to combine and polish the captured footage and we developed a pipeline to optimize the processing as much as possible.</span></span> <span data-ttu-id="aeb44-175">Le métrage devait être combiné, corrigé de la couleur, puis composite pour supprimer les éléments et les artefacts gênants, ou pour ajouter des poches supplémentaires de vie et de mouvement, le tout avec l’objectif d’améliorer ce sentiment d’être réellement présent.</span><span class="sxs-lookup"><span data-stu-id="aeb44-175">The footage had to be stitched together, color corrected, and then composited to remove distracting elements and artifacts or to add supplemental pockets of life and motion, all with the goal to enhance that feeling of actually being there.</span></span>

![Une coupe approximative du métrage de Pantheon avant la combinaison.](images/rough-cut-pantheon-500px.png)

<span data-ttu-id="aeb44-177">Une coupe approximative du métrage de Pantheon avant la combinaison.</span><span class="sxs-lookup"><span data-stu-id="aeb44-177">A rough cut of Pantheon footage before stitching.</span></span> 


<span data-ttu-id="aeb44-178">Pour combiner les vidéos, nous avons utilisé un outil appelé [PTGui](https://www.ptgui.com/) et nous l’avons intégré dans notre pipeline de traitement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-178">To stitch the videos together, we used a tool called [PTGui](https://www.ptgui.com/) and integrated it into our processing pipeline.</span></span> <span data-ttu-id="aeb44-179">Dans le cadre du traitement après le traitement, nous avons extrait les images de nos vidéos et avons trouvé un modèle d’assemblage qui était parfait pour l’un de ces cadres.</span><span class="sxs-lookup"><span data-stu-id="aeb44-179">As part of post-processing we extracted still frames from our videos and found a stitching pattern that looked good for one of those frames.</span></span> <span data-ttu-id="aeb44-180">Nous avons ensuite appliqué ce modèle à un plug-in personnalisé que nous avons écrit, ce qui permettait à nos artistes d’effectuer des réglages et d’ajuster le modèle d’assemblage directement lors de la composition dans After Effects.</span><span class="sxs-lookup"><span data-stu-id="aeb44-180">We then applied that pattern to a custom plugin we wrote that allowed our video artists to fine tune and tweak the stitching pattern directly while compositing in After Effects.</span></span> 

![Capture d’écran de PTGui montrant le métrage Pantheon.](images/stitching-tool-pantheon-500px.png)

<span data-ttu-id="aeb44-182">Capture d’écran de PTGui montrant le métrage Pantheon.</span><span class="sxs-lookup"><span data-stu-id="aeb44-182">Screenshot of PTGui showing the stitched Pantheon footage.</span></span> 


### <a name="video-playback"></a><span data-ttu-id="aeb44-183">Lecture de vidéo</span><span class="sxs-lookup"><span data-stu-id="aeb44-183">Video playback</span></span>

<span data-ttu-id="aeb44-184">Une fois le métrage terminé, nous disposons d’une vidéo transparente, mais elle est très importante, avec une résolution de 8 Ko environ.</span><span class="sxs-lookup"><span data-stu-id="aeb44-184">After processing of the footage is completed, we have a seamless video but it’s extraordinarily large—around 8K resolution.</span></span> <span data-ttu-id="aeb44-185">Le décodage de la vidéo est onéreux et il y a très peu d’ordinateurs capables de gérer une vidéo de 8 Ko. par conséquent, le prochain défi consistait à trouver un moyen de relire cette vidéo sur HoloLens.</span><span class="sxs-lookup"><span data-stu-id="aeb44-185">Decoding video is expensive and there are very few computers that can handle an 8K video so the next challenge was finding a way to play this video back on HoloLens.</span></span> <span data-ttu-id="aeb44-186">Nous avons développé un certain nombre de stratégies pour éviter le coût du décodage tout en faisant en sorte que l’utilisateur ait l’impression d’afficher l’intégralité de la vidéo.</span><span class="sxs-lookup"><span data-stu-id="aeb44-186">We developed a number of strategies to avoid the cost of decoding while still making the user feel like they were viewing the entire video.</span></span>

<span data-ttu-id="aeb44-187">L’optimisation la plus simple consiste à éviter de décoder des parties de la vidéo qui ne changent pas.</span><span class="sxs-lookup"><span data-stu-id="aeb44-187">The easiest optimization is to avoid decoding parts of the video that don’t change much.</span></span> <span data-ttu-id="aeb44-188">Nous avons écrit un outil pour identifier les zones de chaque scène qui n’ont que peu ou pas de mouvement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-188">We wrote a tool to identify areas in each scene that have little or no motion.</span></span> <span data-ttu-id="aeb44-189">Pour ces régions, nous affichons une image statique au lieu de décoder une vidéo pour chaque image.</span><span class="sxs-lookup"><span data-stu-id="aeb44-189">For those regions we show a static image rather than decoding a video each frame.</span></span> <span data-ttu-id="aeb44-190">Pour que cela soit possible, nous avons divisé la vidéo massive en plus petits segments.</span><span class="sxs-lookup"><span data-stu-id="aeb44-190">To make this possible, we divided up the massive video into much smaller chunks.</span></span>

<span data-ttu-id="aeb44-191">Nous avons également fait en sorte que tous les pixels décodés ont été utilisés le plus efficacement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-191">We also made sure that every pixel we decoded was used most effectively.</span></span> <span data-ttu-id="aeb44-192">Nous avons expérimenté les techniques de compression pour réduire la taille de la vidéo. nous séparons les régions vidéo en fonction des polygones de la géométrie sur laquelle elles seraient projetées. Nous avons ajusté UVs et recompressé les vidéos en fonction de la quantité de détails que les polygones comprenaient.</span><span class="sxs-lookup"><span data-stu-id="aeb44-192">We experimented with compression techniques to lower the size of the video; we split the video regions according to the polygons of the geometry it would be projected onto; we adjusted UVs and repacked the videos based on how much detail different polygons included.</span></span> <span data-ttu-id="aeb44-193">Le résultat de ce travail est que ce qui a démarré comme une vidéo de 8 Ko a été retournée dans de nombreux segments qui semblent presque incompréhensibles jusqu’à ce qu’ils soient réprojetés correctement dans la scène.</span><span class="sxs-lookup"><span data-stu-id="aeb44-193">The result of this work is that what started as a single 8k video turned into many chunks that look almost unintelligible until they are properly re-projected into the scene.</span></span> <span data-ttu-id="aeb44-194">Pour un développeur de jeux qui comprend le mappage de texture et la compression UV, cela vous semblera probablement familier.</span><span class="sxs-lookup"><span data-stu-id="aeb44-194">For a game developer who understands texture mapping and UV packing, this will probably look familiar.</span></span> 

![Vue complète du Pantheon avant les optimisations.](images/pantheon-before-optimization-500px.png) 

<span data-ttu-id="aeb44-196">Vue complète du Pantheon avant les optimisations.</span><span class="sxs-lookup"><span data-stu-id="aeb44-196">A full view of the Pantheon before optimizations.</span></span> 


![La moitié droite du Pantheon, traitée pour la lecture vidéo.](images/pantheon-process-video-playback-500px.png) 

<span data-ttu-id="aeb44-198">La moitié droite du Pantheon, traitée pour la lecture vidéo.</span><span class="sxs-lookup"><span data-stu-id="aeb44-198">The right half of the Pantheon, processed for video playback.</span></span> 


![Exemple d’une région vidéo unique après l’optimisation et la compression.](images/single-video-region-after-optimization-500px.png) 

<span data-ttu-id="aeb44-200">Exemple d’une région vidéo unique après l’optimisation et la compression.</span><span class="sxs-lookup"><span data-stu-id="aeb44-200">Example of a single video region after optimization and packing.</span></span> 


<span data-ttu-id="aeb44-201">Une autre astuce utilisée consistait à éviter de décoder la vidéo que vous ne Visualisez pas activement.</span><span class="sxs-lookup"><span data-stu-id="aeb44-201">Another trick we used was to avoid decoding video you aren’t actively viewing.</span></span> <span data-ttu-id="aeb44-202">Dans HoloTour, vous ne pouvez voir qu’une partie de la scène complète à un moment donné.</span><span class="sxs-lookup"><span data-stu-id="aeb44-202">While in HoloTour, you can only see part of the full scene at any given moment.</span></span> <span data-ttu-id="aeb44-203">Nous décoderons uniquement les vidéos dans ou sous peu en dehors de votre champ de vision (angle de vue).</span><span class="sxs-lookup"><span data-stu-id="aeb44-203">We only decode videos within or shortly outside of your field of view (FOV).</span></span> <span data-ttu-id="aeb44-204">À mesure que vous faites pivoter votre tête, nous commençons à écouter les régions de la vidéo qui se trouvent maintenant dans votre angle d’ouverture et à arrêter celles qui ne se trouvent plus dans celle-ci.</span><span class="sxs-lookup"><span data-stu-id="aeb44-204">As you rotate your head, we start playing the regions of the video that are now in your FOV and stop playing ones that are no longer within it.</span></span> <span data-ttu-id="aeb44-205">La plupart des gens ne remarqueront pas que cela se produit, mais si vous l’éteignez rapidement, vous verrez que la vidéo prend une seconde pour démarrer. dans le même temps, vous verrez une image statique qui s’affiche ensuite en fondu avec la vidéo une fois qu’elle est prête.</span><span class="sxs-lookup"><span data-stu-id="aeb44-205">Most people won’t even notice this is happening, but if you turn around rapidly, you’ll see the video takes a second to start— in the meantime you’ll see a static image which then fades back to video once it’s ready.</span></span>

<span data-ttu-id="aeb44-206">Pour que cette stratégie fonctionne, nous avons développé un système de lecture vidéo étendu.</span><span class="sxs-lookup"><span data-stu-id="aeb44-206">To make this strategy work we developed an extensive video playback system.</span></span> <span data-ttu-id="aeb44-207">Nous avons optimisé le code de lecture de bas niveau afin de rendre le basculement vidéo extrêmement efficace.</span><span class="sxs-lookup"><span data-stu-id="aeb44-207">We optimized the low level playback code in order to make video switching extremely efficient.</span></span> <span data-ttu-id="aeb44-208">En outre, nous avons dû Encoder nos vidéos d’une façon spéciale pour pouvoir basculer rapidement vers une vidéo à tout moment.</span><span class="sxs-lookup"><span data-stu-id="aeb44-208">Additionally, we had to encode our videos in a special way to make it possible to rapidly switch to any video at any time.</span></span> <span data-ttu-id="aeb44-209">Ce pipeline de lecture prenait beaucoup de temps de développement, nous l’avons mis en œuvre par étapes.</span><span class="sxs-lookup"><span data-stu-id="aeb44-209">This playback pipeline took a significant amount of development time so we implemented it in stages.</span></span> <span data-ttu-id="aeb44-210">Nous avons commencé avec un système plus simple qui était moins efficace, mais qui permettaient aux concepteurs et aux artistes de travailler sur l’expérience et de les améliorer lentement dans un système de lecture plus robuste qui nous permettait d’être expédiés à la barre de qualité finale.</span><span class="sxs-lookup"><span data-stu-id="aeb44-210">We started with a simpler system that was less efficient, but allowed designers and artists to work on the experience, and slowly improved it to a more robust playback system that allowed us to ship at the final quality bar.</span></span> <span data-ttu-id="aeb44-211">Ce système final comportait des outils personnalisés que nous avons créés dans Unity pour configurer la vidéo dans la scène et surveiller le moteur de lecture.</span><span class="sxs-lookup"><span data-stu-id="aeb44-211">This final system had custom tools we created within Unity to set up the video within the scene and monitor the playback engine.</span></span>

### <a name="recreating-near-space-objects-in-3d"></a><span data-ttu-id="aeb44-212">Recréation d’objets proches de l’espace en 3D</span><span class="sxs-lookup"><span data-stu-id="aeb44-212">Recreating near-space objects in 3D</span></span>

<span data-ttu-id="aeb44-213">Les vidéos constituent la plupart des éléments que vous voyez dans HoloTour, mais il existe un certain nombre d’objets en 3D qui s’affichent à proximité, tels que la peinture dans Piazza Navona, la fontaine à l’extérieur du Pantheon ou la bulle d’air chaud dans laquelle vous vous trouvez pour les scènes aériennes.</span><span class="sxs-lookup"><span data-stu-id="aeb44-213">Videos make up the majority of what you see in HoloTour, but there are a number of 3D objects that appear close to you, such as the painting in Piazza Navona, the fountain outside the Pantheon, or the hot air balloon you stand in for aerial scenes.</span></span> <span data-ttu-id="aeb44-214">Ces objets 3D sont importants, car la perception de la profondeur humaine est très bonne, mais pas très bonne loin.</span><span class="sxs-lookup"><span data-stu-id="aeb44-214">These 3D objects are important because human depth perception is very good up close, but not very good far away.</span></span> <span data-ttu-id="aeb44-215">Nous pouvons sortir de la vidéo dans la distance, mais pour permettre aux utilisateurs de parcourir leur espace et sembler comme étant vraiment là, les objets les plus proches ont besoin de profondeur.</span><span class="sxs-lookup"><span data-stu-id="aeb44-215">We can get away with video in the distance, but to allow users to walk around their space and feel like they’re really there, nearby objects need depth.</span></span> <span data-ttu-id="aeb44-216">Cette technique est similaire à la nature de ce que vous pouvez voir dans un musée de l’historique naturel, à savoir un diorama qui a des plans d’aménagement d’animaux physiques, des plantes et des spécimens animaux au premier plan, mais qui est remplacé par un dessin de Matt masqué de manière intelligente en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="aeb44-216">This technique is similar to the sort of thing you might see in a natural history museum—picture a diorama that has physical landscaping, plants, and animal specimens in the foreground, but recedes into a cleverly masked matte painting in the background.</span></span>

<span data-ttu-id="aeb44-217">Certains objets sont simplement des ressources 3D que nous avons créées et ajoutées à la scène pour améliorer l’expérience.</span><span class="sxs-lookup"><span data-stu-id="aeb44-217">Some objects are simply 3D assets we created and added to the scene to enhance the experience.</span></span> <span data-ttu-id="aeb44-218">La peinture et la bulle d’air chaud rentrent dans cette catégorie, car elles n’étaient pas présentes lors de la pellicule.</span><span class="sxs-lookup"><span data-stu-id="aeb44-218">The painting and the hot air balloon fall into this category because they weren’t present when we filmed.</span></span> <span data-ttu-id="aeb44-219">Comme pour les ressources de jeu, elles ont été créées par un artiste en 3D de notre équipe et texturées de manière appropriée.</span><span class="sxs-lookup"><span data-stu-id="aeb44-219">Similar to game assets, they were created by a 3D artist on our team and textured appropriately.</span></span> <span data-ttu-id="aeb44-220">Nous allons les placer dans nos coulisses près de l’endroit où vous vous posez, et le moteur de jeu peut les afficher dans les deux affichages HoloLens pour qu’ils apparaissent sous la forme d’un objet 3D.</span><span class="sxs-lookup"><span data-stu-id="aeb44-220">We place these in our scenes near where you stand, and the game engine can render them to the two HoloLens displays so that they appear as a 3D object.</span></span>

<span data-ttu-id="aeb44-221">D’autres ressources, comme la fontaine en dehors du Pantheon, sont des objets réels qui existent aux emplacements où nous filmons la vidéo, mais pour mettre ces objets hors de la vidéo et en 3D, nous devons effectuer un certain nombre de choses.</span><span class="sxs-lookup"><span data-stu-id="aeb44-221">Other assets, like the fountain outside the Pantheon, are real objects that exist in the locations where we're shooting video, but to bring these objects out of the video and into 3D, we have to do a number of things.</span></span>

<span data-ttu-id="aeb44-222">Tout d’abord, nous avons besoin d’informations supplémentaires sur chaque objet.</span><span class="sxs-lookup"><span data-stu-id="aeb44-222">First, we need additional information about each object.</span></span> <span data-ttu-id="aeb44-223">Bien qu’à l’emplacement de la vidéo, notre équipe a capturé un grand nombre de références de ces objets afin que nous ayons suffisamment d’images détaillées pour recréer avec précision les textures.</span><span class="sxs-lookup"><span data-stu-id="aeb44-223">While on location for filming, our team captured a lot of reference footage of these objects so that we would have enough detailed images to accurately recreate the textures.</span></span> <span data-ttu-id="aeb44-224">L’équipe a également effectué une analyse [Photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) , qui construit un modèle 3D à partir de dizaines d’images 2D, ce qui nous donne un modèle approximatif de l’objet à l’échelle parfaite.</span><span class="sxs-lookup"><span data-stu-id="aeb44-224">The team also performed a [photogrammetry](https://en.wikipedia.org/wiki/Photogrammetry) scan, which constructs a 3D model from dozens of 2D images, giving us a rough model of the object at perfect scale.</span></span>

<span data-ttu-id="aeb44-225">Pendant le traitement de notre métrage, les objets qui seront remplacés ultérieurement par une représentation 3D sont supprimés de la vidéo.</span><span class="sxs-lookup"><span data-stu-id="aeb44-225">As we process our footage, objects that will later be replaced with a 3D representation are removed from the video.</span></span> <span data-ttu-id="aeb44-226">La ressource 3D est basée sur le modèle Photogrammetry, mais elle est nettoyée et simplifiée par nos artistes.</span><span class="sxs-lookup"><span data-stu-id="aeb44-226">The 3D asset is based on the photogrammetry model but cleaned up and simplified by our artists.</span></span> <span data-ttu-id="aeb44-227">Pour certains objets, nous pouvons utiliser des parties de la vidéo, telles que la texture eau sur la fontaine, mais la plus grande partie de la fontaine est maintenant un objet 3D, qui permet aux utilisateurs de percevoir la profondeur et de la détailler dans un espace limité dans l’expérience.</span><span class="sxs-lookup"><span data-stu-id="aeb44-227">For some objects, we can use parts of the video—such as the water texture on the fountain—but most of the fountain is now a 3D object, which allows users to perceive depth and walk around it in a limited space in the experience.</span></span> <span data-ttu-id="aeb44-228">Le fait d’avoir des objets quasi-Spaces comme celui-ci augmente le réalisme et permet de replacer les utilisateurs dans l’emplacement virtuel.</span><span class="sxs-lookup"><span data-stu-id="aeb44-228">Having near-space objects like this greatly adds to the sense of realism and helps to ground the users in the virtual location.</span></span> 

![Pantheon le métrage avec la fontaine supprimée.](images/object-removal-pantheon-500px.png)

<span data-ttu-id="aeb44-231">Pantheon le métrage avec la fontaine supprimée.</span><span class="sxs-lookup"><span data-stu-id="aeb44-231">Pantheon footage with the fountain removed.</span></span> <span data-ttu-id="aeb44-232">Elle sera remplacée par une ressource 3D.</span><span class="sxs-lookup"><span data-stu-id="aeb44-232">It will be replaced with a 3D asset.</span></span>


## <a name="final-thoughts"></a><span data-ttu-id="aeb44-233">Réflexions finales</span><span class="sxs-lookup"><span data-stu-id="aeb44-233">Final thoughts</span></span>

<span data-ttu-id="aeb44-234">Évidemment, il y avait plus de création de ce contenu que ce que nous avons abordé ici.</span><span class="sxs-lookup"><span data-stu-id="aeb44-234">Obviously, there was more to creating this content than what we've discussed here.</span></span> <span data-ttu-id="aeb44-235">Il y a quelques scènes : nous aimerions les appeler « perspectives inactives », y compris la bulle de l’air chaud et la lutte contre la Gladiator dans le Colosseum, qui prenait une approche plus créative.</span><span class="sxs-lookup"><span data-stu-id="aeb44-235">There are a few scenes—we like to call them "impossible perspectives"—including the hot air balloon ride and the gladiator fight in the Colosseum, which took a more creative approach.</span></span> <span data-ttu-id="aeb44-236">Nous les traiterons dans une prochaine étude de cas.</span><span class="sxs-lookup"><span data-stu-id="aeb44-236">We'll address these in a future case study.</span></span>

<span data-ttu-id="aeb44-237">Nous espérons que les solutions de partage à certains des plus grands défis que nous avions en production sont utiles aux autres développeurs et que vous êtes inspiré de l’utilisation de certaines de ces techniques pour créer vos propres expériences immersifs pour HoloLens.</span><span class="sxs-lookup"><span data-stu-id="aeb44-237">We hope that sharing solutions to some of the bigger challenges we had during production is helpful to other developers and that you're inspired to use some of these techniques to create your own immersive experiences for HoloLens.</span></span> <span data-ttu-id="aeb44-238">(Et si vous le faites, assurez-vous de le partager avec nous sur le [Forum de développement d’applications HoloLens](https://forums.hololens.com/)!)</span><span class="sxs-lookup"><span data-stu-id="aeb44-238">(And if you do, please make sure to share it with us on the [HoloLens App Development forum](https://forums.hololens.com/)!)</span></span>

## <a name="about-the-authors"></a><span data-ttu-id="aeb44-239">À propos des auteurs</span><span class="sxs-lookup"><span data-stu-id="aeb44-239">About the authors</span></span>

<table style="border:0">
<tr>
<td style="border:0" width="60px"> <img alt="David Haley" width="60" height="60" src="images/haley.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="aeb44-240"><b>David Haley</b> est un développeur senior qui a appris plus sur les plates-formes de caméra et la lecture vidéo que de travailler sur HoloTour.</span><span class="sxs-lookup"><span data-stu-id="aeb44-240"><b>David Haley</b> is a Senior Developer who learned more about camera rigs and video playback than he thought possible from working on HoloTour.</span></span></td>
<td style="border:0" width="60px"> <img alt="Danny Askew" width="60" height="60" src="images/askew.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="aeb44-241"><b>Danny Askew</b> est un artiste qui a fait en sorte que votre parcours de Rome était aussi irréprochable que possible.</span><span class="sxs-lookup"><span data-stu-id="aeb44-241"><b>Danny Askew</b> is a Video Artist who made sure your journey through Rome was as flawless as possible.</span></span></td>
</tr>
<tr>
<td style="border:0" width="60px"> <img alt="Jason Syltebo" width="60" height="60" src="images/syltebo.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="aeb44-242"><b>Jason Syltebo</b> est un concepteur audio qui a fait en sorte que vous pouviez expérimenter les Soundscape de chaque destination que vous visitez, même lorsque vous revenez dans le temps.</span><span class="sxs-lookup"><span data-stu-id="aeb44-242"><b>Jason Syltebo</b> is an Audio Designer who made sure you could experience the soundscape of every destination you visit, even when you go back in time.</span></span></td>
<td style="border:0" width="60px"> <img alt="Travis Steiner" width="60" height="60" src="images/steiner.png" /></td>
<td style="border:0" width="408"> <span data-ttu-id="aeb44-243"><b>Travis Steiner</b> est un directeur de la conception, qui a fait ses recherches, a créé des plans de voyage et des films dirigés sur le site.</span><span class="sxs-lookup"><span data-stu-id="aeb44-243"><b>Travis Steiner</b> is a Design Director who researched and scouted locations, created trip plans, and directed filming on site.</span></span></td>
</tr>
</table>



## <a name="see-also"></a><span data-ttu-id="aeb44-244">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="aeb44-244">See also</span></span>
* [<span data-ttu-id="aeb44-245">Vidéo : Microsoft HoloLens : HoloTour</span><span class="sxs-lookup"><span data-stu-id="aeb44-245">Video: Microsoft HoloLens: HoloTour</span></span>](https://www.youtube.com/watch?v=pLd9WPlaMpY)
